describe IGMarkets::CLI::ActivitiesTable do
  it 'prints activities' do
    activities = [build(:activity, date: Time.new(2015, 12, 16, 15, 0, 0, 0))]

    expect(IGMarkets::CLI::ActivitiesTable.new(activities).to_s).to eql(<<-END.strip
+-------------------------+---------+------+----------+--------------------+-----------------+------+-------+--------+------+--------+
|                                                             Activities                                                             |
+-------------------------+---------+------+----------+--------------------+-----------------+------+-------+--------+------+--------+
| Date                    | Channel | Type | Status   | EPIC               | Market          | Size | Level | Limit  | Stop | Result |
+-------------------------+---------+------+----------+--------------------+-----------------+------+-------+--------+------+--------+
| 2015-12-16 15:00:00 UTC | Charts  | S&L  | Accepted | CS.D.NZDUSD.CFD.IP | Spot FX NZD/USD |   +1 | 0.664 | 0.6649 |      | Result |
+-------------------------+---------+------+----------+--------------------+-----------------+------+-------+--------+------+--------+
END
                                                                       )
  end
end
